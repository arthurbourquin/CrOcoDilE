<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
<title>Cartons</title>
<style>
body {
font-family: Roboto Slab;
font-weight: 300;
color: #ddd;
background: #222;
} b {font-weight: 700}
#dispInfos {display: inline;}
textarea, div, button, #DispQuestion, #DispAnswer {
font-family: Roboto Slab;
font-weight: 700;
color: #ddd;
background: #222;
border: 1px solid #ddd;
border-radius: 10px;
margin: 10px;
padding: 10px;
}
#DispQuestion, #DispAnswer {
display: inline-block; /* Ensures the min width and height are respected */
min-width: 300px;
min-height: 150px;
vertical-align: top;
}
table, tr, th, td {border: 1px solid #ddd}
</style>
</head>


<body>


<!-- Infos -->
<button id="BtnInfos" onclick="ShowInfos()">i</button>
<span id="DispInfos">Entrez les Rectos et Versos séparée par des ;; Une paire. Recto;;Verso par ligne -ou- Utilisez un tableur pour sauvegarder vos fiches avec : colonne A = Recto Colonne B = ;; Colonne C = Verso puis copiez-collez le tout dans le champs.</span>


<!-- Cartons -->
<span id="DispQuestion">Recto</span>
<span id="DispAnswer">Verso</span>


<!-- Juste / Faux -->
<button id="BtnCorrect">Juste</button>
<button id="BtnWrong">Faux</button>


<!-- Edition -->
<button id="BtnEdit">Editer les cartons</button>
<form style="margin: 0; padding: 0;"><textarea id="DispUserInput" style="width: 100%; box-sizing: border-box;"></textarea></form>
<table id="DispTable"></table>
<table><tr><th>a</th><th>a</th></tr><tr><td>a</td><td>a</td></table>

<span id="test"></span>




<script>


function ShowInfos(){
if(document.getElementById('DispInfos').style.display == 'none'){
document.getElementById('DispInfos').style.display = 'inline';
} else {
document.getElementById('DispInfos').style.display = 'none';
}}

let RawInput;
let Cartons;

// Update Cartons
document.getElementById('DispUserInput').addEventListener('input', Update);

function Update(){
    UpdateCartons();
    UpdateTable();
}

function UpdateCartons() {
    RawInput = document.getElementById('DispUserInput').value;
    Cartons = RawInput.split('\n');
    for(let i = 0; i < Cartons.length; i++){
        Cartons[i] = Cartons[i].split(';;'); // set recto and verso values
        Cartons[i][2] = true; // reset state to 'in stack'
        Cartons[i][3] = 0; // reset good answers
        Cartons[i][4] = 0; // reset bad answers
        document.getElementById('test').innerText = Cartons[0]; // test
    }
}

function UpdateTable(){
    for(let i; i > Cartons.length; i++){
        let newRow = document.createElement('tr');
            for(let j; j > 2; j++){
            let newColumn = document.createElement('td');
            td.innerText = Cartons[i][j];
            document.getElementById('tr').appendChild(newColumn);
        document.getElementById('DispTable').appendChild(newRow)
        }
    }
}


</script>

</body>
</html>